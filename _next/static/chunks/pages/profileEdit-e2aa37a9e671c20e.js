(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4899],{1024:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profileEdit",function(){return t(7169)}])},7169:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Z}});var r=t(5893),a=t(7294),i=t(5666),o=t.n(i),c=t(1163),u=t(6286),l=t(6893),s=t(2390),f=t(7648),p=t(358),d=t(2327),v=t(6966),b=t(7108),g=t(5472);function m(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function h(){var e=m(["\n    padding: 16px 24px;\n\n    .formBtns {\n        button {\n            margin-bottom : 20px\n        }\n        // :first-child {\n        //     margin-left: 0;\n        // }\n    }\n    @media only screen and (max-width: 667px) {\n        padding: 32px 10px;\n\t}\n"]);return h=function(){return e},e}function x(){var e=m(["\n    color: ",";\n    font-size: 24px;\n    font-weight: 800;\n    font-family: 'BoldFont';\n    text-align: center;\n    margin: 0 0 52px;\n"]);return x=function(){return e},e}function y(){var e=m(["\n    color: ",";\n    font-size: 24px;\n    font-weight: 800;\n    font-family: 'BoldFont';\n    text-align: center;\n    margin: 0 0 24px;\n    svg {\n        color: ",";\n        font-size: 52px;\n    }\n"]);return y=function(){return e},e}var w=b.ZP.div(h()),k=b.ZP.div(x(),g.Z.colors.primary),j=b.ZP.div(y(),g.Z.colors.primary,g.Z.colors.primary),O=t(9129);function P(e,n,t){return{name:{label:"\u0625\u0633\u0645 \u0627\u0644\u0634\u0647\u0631\u0629",type:"textWithLabel",required:!0},specialization:{label:"\u0627\u0644\u0627\u062e\u062a\u0635\u0627\u0635",type:"textWithLabel",required:!0},avatar:{label:"",type:"avatar",required:!1},cover:{label:"\u0627\u0644\u063a\u0644\u0627\u0641",type:"fileWithLabel",required:!1},gender:{label:"\u0627\u0644\u062c\u0646\u0633",type:"selectWithLabel",options:[{label:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0625\u062e\u062a\u064a\u0627\u0631",value:""},{label:"\u0630\u0643\u0631",value:"male"},{label:"\u0627\u0646\u062b\u0649",value:"female"}],required:!0},country:{label:"\u0627\u0644\u062f\u0648\u0644\u0629",type:"selectWithLabel",options:Object.values(O).map((function(e){return{label:e.ar_name,value:e.ar_name}})),required:!0},gallery:{label:"\u0639\u064a\u0646\u0647 \u0645\u0646 \u0627\u0644\u0645\u062d\u062a\u0648\u0649",type:"gallery",number:[0,1,2],required:!1},intro:{label:"\u0646\u0628\u0630\u0629 \u0645\u062e\u062a\u0635\u0631\u0629 \u0639\u0646\u0643",type:"textareaWithLabel",pattern:"^.{1,280}$",required:!0},categories:{label:"\u0627\u0644\u0641\u0626\u0627\u062a",type:"TagDropdownWithLabel",options:[{label:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0625\u062e\u062a\u064a\u0627\u0631",value:""}].concat(e.map((function(e){return{label:e.name,value:e.id}}))),required:!0},tags:{label:"\u0627\u0644\u0648\u0633\u0645",type:"TagDropdownWithLabel",options:[{label:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0625\u062e\u062a\u064a\u0627\u0631",value:""}].concat(n.map((function(e){return{label:e.name,value:e.id}}))),required:!0},regions:{label:"\u0645\u0646\u0637\u0642\u0647 \u0627\u0644\u062a\u0627\u062b\u064a\u0631",type:"TagDropdownWithLabel",options:[{label:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0625\u062e\u062a\u064a\u0627\u0631",value:""}].concat(t.map((function(e){return{label:e.name,value:e.id}}))),required:!0},platforms:{label:"\u0627\u0644\u0645\u0646\u0635\u0627\u062a",type:"platformsListBox",required:!1}}}function _(e,n,t,r,a,i,o){try{var c=e[i](o),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,a)}function q(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){_(i,r,a,o,c,"next",e)}function c(e){_(i,r,a,o,c,"throw",e)}o(void 0)}))}}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function L(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){E(e,n,t[n])}))}return e}function S(){var e=(0,c.useRouter)(),n=(0,u.Ds)().enqueueSnackbar,t=(0,a.useState)(!0),i=t[0],b=t[1],g=(0,a.useState)(!1),m=g[0],h=g[1],x=(0,a.useState)(""),y=x[0],O=x[1],_=(0,a.useState)({}),E=_[0],S=_[1],Z=(0,a.useState)([]),D=Z[0],W=Z[1],T=(0,a.useState)([]),z=T[0],C=T[1],N=(0,a.useState)([]),A=N[0],B=N[1],U=(0,a.useContext)(v.S),F=U.user,I=U.userType;(0,a.useEffect)((function(){"influencer"!==I&&e.replace("/dashboard")}),[]),(0,a.useEffect)((function(){return X(),H(),function(){S({})}}),[]);var X=q(o().mark((function e(){var n,t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=D.length){e.next=18;break}return e.next=3,d.U("/regions");case 3:return n=e.sent,W(n.data.data),e.next=7,d.U("/tags");case 7:if(t=e.sent,C(t.data.data),!(F.categories&&F.categories.length>0)){e.next=13;break}B(F.categories),e.next=17;break;case 13:return e.next=15,d.U("/categories");case 15:r=e.sent,B(r.data.data);case 17:b(!1);case 18:case"end":return e.stop()}}),e)}))),H=q(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F.profileEditedData||0===Object.keys(F.profileEditedData).length){e.next=4;break}S(F.profileEditedData),e.next=15;break;case 4:return b(!0),e.prev=5,e.next=8,d.U("/influencers/profile");case 8:!(n=e.sent).data.error&&n.data.data&&S(n.data.data),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(5);case 14:b(!1);case 15:case"end":return e.stop()}}),e,null,[[5,12]])}))),R=q(o().mark((function e(t){var r,a,c,u,l,s,f,p,v,g,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=["cover","avatar"],!i){e.next=3;break}return e.abrupt("return");case 3:var o=function(e){(l=a[e])&&("platforms"==e?l.map((function(n,t){var r=function(r){var a=n[r];Array.isArray(a)?a.forEach((function(n,a){for(var i in n)c.append("".concat(e,"[").concat(t,"][").concat(r,"][").concat(a,"][").concat(i,"]"),n[i])})):c.append("".concat(e,"[").concat(t,"][").concat(r,"]"),a)};for(var a in n)r(a)})):Array.isArray(l)&&"platforms"!==e?l.forEach((function(n,t){"gallery"===e&&"string"==typeof n||c.append("".concat(e,"[").concat(t,"]"),n)})):r.includes(e)&&"string"===typeof l?delete a[e]:c.append(e,l))};for(u in S(t),(a=L({},t)).categories&&a.categories.length>0&&(a.categories=a.categories.map((function(e){return e.value||e.id}))),a.tags&&a.tags.length>0&&(a.tags=a.tags.map((function(e){return e.value||e.id}))),a.regions&&a.regions.length>0&&(a.regions=a.regions.map((function(e){return e.value||e.id}))),e.prev=8,b(!0),a.platforms=a.platforms&&a.platforms.length>0&&a.platforms.filter((function(e){return!!e.account&&""!=e.account})),c=new FormData,a)o(u);for(s=!0,f=!1,p=void 0,e.prev=14,v=c.values()[Symbol.iterator]();!(s=(g=v.next()).done);s=!0)g.value;e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),f=!0,p=e.t0;case 22:e.prev=22,e.prev=23,s||null==v.return||v.return();case 25:if(e.prev=25,!f){e.next=28;break}throw p;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.next=32,d.v("/influencers/profile",c,"",{"Content-Type":"multipart/form-data"});case 32:m=e.sent,console.log("res",m),m.data.error?(S(t),n(m.data.message,{variant:"error",duration:1e3})):(h(!0),O(m.data.message)),e.next=41;break;case 37:e.prev=37,e.t1=e.catch(8),S(t),n("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u0633\u062c\u064a\u0644! \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",{variant:"error"});case 41:b(!1);case 42:case"end":return e.stop()}}),e,null,[[8,37],[14,18,22,30],[23,,25,29]])}))),V=q(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.editProfile&&F.editProfile(t),F.editProfile&&n("\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",{variant:"success"});case 2:case"end":return e.stop()}}),e)})));if(m)return(0,r.jsx)(s.Z,{isInfluncer:!0,children:(0,r.jsxs)(w,{children:[(0,r.jsx)(j,{children:(0,r.jsx)(l._rq,{})}),(0,r.jsx)(k,{children:y})]})});if(i)return(0,r.jsx)(s.Z,{isInfluncer:!0,children:(0,r.jsx)(w,{children:(0,r.jsx)(p.Z,{})})});return(0,r.jsx)(s.Z,{title:"\u062a\u0639\u062f\u064a\u0644 ",isInfluncer:!0,backLink:"/",children:(0,r.jsx)(w,{children:(0,r.jsx)(f.Z,{defaultValue:E,fields:P(A,z,D),submit:R,saveData:V,onChangeHandling:function(e){S(e)},submitLabel:"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u0631\u0627\u062a",saveLabel:"\u062d\u0641\u0638 \u0648\u0645\u062a\u0627\u0628\u0639\u0647 \u0644\u0627\u062d\u0642\u0627"})})})}function Z(){return(0,r.jsx)(S,{})}}},function(e){e.O(0,[5445,1228,2013,3874,5937,4949,3780,5675,6893,8566,2390,3537,7648,9129,9774,2888,179],(function(){return n=1024,e(e.s=n);var n}));var n=e.O();_N_E=n}]);